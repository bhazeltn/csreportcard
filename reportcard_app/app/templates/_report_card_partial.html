<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {% for category in ['Balance', 'Control', 'Agility'] %}
    <div>
        <h2 class="text-xl font-semibold text-gray-700 mb-4">{{ category }}</h2>
        {% for stage in range(1, 7) %}
        <div class="mb-4">
            <h3 class="font-bold text-gray-600">Stage {{ stage }}</h3>
            <ul class="list-inside ml-2">
                {% for key, value in data.items() %}
                {% if key.startswith(category + ' ' + stage|string) %}
                <li class="{{ 'text-green-600' if value else 'text-gray-300' }}">
                    <span class="inline-block w-4">{{ '✓' if value else '' }}</span>
                    {{ key.split(' - ')[1] }}
                </li>
                {% endif %}
                {% endfor %}
            </ul>
            {% set achievement_key = 'CanSkate ' + stage|string + ' - ' + category %}
            {% if data[achievement_key] %}
            <p class="text-sm font-semibold text-green-600 mt-1">✓ Ribbon Awarded: {{ data[achievement_key] }}</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>

<div class="mt-8 border-t pt-6">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">Badges Awarded</h2>
    <div class="flex flex-wrap gap-4">
        {% for stage in range(1, 7) %}
        {% set badge_key = 'Stage ' + stage|string %}
        {% if data[badge_key] %}
        <div class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">
            Stage {{ stage }} Badge: {{ data[badge_key] }}
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>